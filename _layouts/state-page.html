---
layout: default
---

{% assign state_name = page.data.name %}
{% assign state_id = page.data.id %}
{% assign year = '2013' %}

{% assign jobs = site.data.state_jobs[state_id] %}
{% assign gdp = site.data.state_gdp[state_id] %}

{% assign exports_commodities = site.data.state_exports[state_id].commodities %}
{% assign exports_total = site.data.state_exports[state_id].commodities.All[year].dollars %}
{% assign exports_commodities_num = site.data.state_exports[state_id].commodities | size | minus:2 %}

{% assign revenue_products = site.data.state_revenues[state_id].products %}
{% assign revenue_total = revenue_products.All[year].revenue %}
{% assign revenue_types = site.data.revenue_types[state_id] %}
{% assign revenue_type_names = 'Bonus;Rents;Royalties;Other Revenues' | split: ';' %}
{% assign top_revenue_products = site.data.top_state_products[state_id].revenue[year] %}
{% assign revenue_commodities = site.data.state_revenues_by_type[state_id] %}

{% assign federal_products = site.data.state_federal_production[state_id].products %}
{% assign federal_products_num = federal_products | size %}
{% assign top_federal_products = site.data.top_state_products[state_id].federal_production[year] %}

{% assign all_products = site.data.state_all_production[state_id].products %}
{% assign all_products_num = all_products | size %}
{% assign top_all_products = site.data.top_state_products[state_id].all_production[year] %}

{% assign disbursements = site.data.state_disbursements[state_id] %}


<main id="state-{{ state_id }}" class="container-outer">
  <h1>{{ state_name }}</h1>

  <section id="key-facts" class="revenue">
    <h2>Key Facts</h2>
    <ul class="list-bullet">

    {% if revenue_total %}
      <li>{{ state_name }} generated
        <strong>${{ revenue_total | intcomma }}
          in federal revenue</strong> from
        <a href="#revenue">{{ revenue_products | size }} product{{ revenue_products | size | plural }}</a>
        in {{ year }}.
        {% if top_revenue_products %}
        These are the most notable in terms of revenue:
        <ul class="list-bullet">
          {% for product in top_revenue_products %}
          <li><a href="#revenue-{{ product.product | slugify }}">{{ product.product }}</a>:
            ${{ product.value | intcomma }},
            #{{ product.rank }} ({{ product.percent | floor }}%)</li>
          {% endfor %}
        </ul>
        {% endif %}
      </li>
    {% else %}
      <li>{{ state_name }} generated no federal revenue in {{ year }}.</li>
    {% endif %}

    {% if all_products_num > 0 %}
      <li>{{ state_name }} produced
        <a href="#all-production">{{ all_products | size }} product{{ all_products | size | plural }}</a>
        on all lands and waters in {{ year }}.
        {% if top_all_products %}
        These are the most notable:
        <ul class="list-bullet">
          {% for product in top_all_products %}
          <li><a href="#all-production-{{ product.product | slugify }}">{{ product.product }}</a>:
            #{{ product.rank }} ({{ product.percent | floor }}%)</li>
          {% if forloop.index > 10 %}{% break %}{% endif %}
          {% endfor %}
        </ul>
        {% endif %}
      </li>
    {% else %}
      <li>We have no record of production on all lands and waters in {{ state_name }} in {{ year }}.</li>
    {% endif %}

    {% if federal_products_num > 0 %}
      <li>{{ state_name }} produced
        <a href="#federal-production">{{ federal_products | size }} product{{ federal_products | size | plural }}</a>
        on federal lands in {{ year }}.
        {% if top_federal_products %}
        These are the most notable:
        <ul class="list-bullet">
          {% for product in top_federal_products %}
          <li><a href="#federal-production-{{ product.product | slugify }}">{{ product.product }}</a>:
            #{{ product.rank }} ({{ product.percent | floor }}%)</li>
          {% if forloop.index > 10 %}{% break %}{% endif %}
          {% endfor %}
        </ul>
        {% endif %}
        </li>
    {% else %}
      <li>We have no record of federal production in {{ state_name }} in {{ year }}.</li>
    {% endif %}

    {% capture jobs_summary %}
      {% if jobs[year].count %}
        The extractives industry created
        <a href="#employment">{{ jobs[year].count | intcomma }} jobs</a>
        on average in {{ state_name }} in {{ year }}, or
        {{ jobs[year].percent | percent }}% of state-wide employment.
      {% else %}
        The extractives industry did not create any jobs in {{ state_name }} in {{ year }}.
      {% endif %}
    {% endcapture %}

      <li class="employment">{{ jobs_summary }}</li>

    {% capture gdp_summary %}
      {% if gdp[year].dollars %}
        The extractives industry contributed
        <a href="#gdp">${{ gdp[year].dollars | intcomma }}</a>
        toward {{ state_name }}'s GDP in {{ year }}, or
        {{ gdp[year].percent | percent }}%.
      {% else %}
        The extractives industry did not have any effect on GDP in {{ state_name }} in {{ year }}.
      {% endif %}
    {% endcapture %}

      <li class="gdp">{{ gdp_summary }}</li>

    {% capture exports_summary %}
      {% if exports_commodities_num > 0 %}
        {{ state_name }} exported
        {{ exports_commodities_num }} extractives
        product{{ exports_commodities_num | plural }} in {{ year }},
        generating
        <a href="#exports">${{ exports_commodities.All[year].dollars | intcomma }}</a>
        in export revenue, or
        {{ exports_commodities.All[year].percent | percent }}%.
      {% else %}
        {{ state_name }} did not generate any export revenue from extractives in {{ year }}.
      {% endif %}
    {% endcapture %}

      <li class="exports">{{ exports_summary }}</li>

    {% capture disbursements_summary %}
    {% assign disbursement_funds_num = disbursements | size | minus: 1 %}
      {% if disbursements %}
        {{ state_name }} received
        <a href="#disbursements">${{ disbursements.All[year] | round | intcomma }}</a>
        in federal disbursements in {{ year }}.
      {% else %}
        {{ state_name }} did not receive any federal disbursements in {{ year }}.
      {% endif %}
    {% endcapture %}

      <li class="disbursements">{{ disbursements_summary }}</li>

    </ul>
  </section>


  <section id="revenue" class="federal revenue">
    <h2>Federal Revenue</h2>

    {% assign oilgas = 'Oil & Gas (Non-Royalty)' %}
    <section class="county-map-table">
      <figure>
        <data-map color-scheme="Blues" steps="9">
          {% assign county_revenue = site.data.county_revenue[state_id] %}
          {% capture value_key %}revenue.{{ year }}{% endcapture %}
          {%
            include county-map.html
            state=state_id
            counties=county_revenue
            value=value_key
          %}
        </data-map>
        <figcaption>County extractives revenue (dollars, {{ year }})</figcaption>
      </figure>

      <table is="bar-chart-table" class="revenue">
        <thead>
          <tr>
            <th>Commodity</th>
            <th>Securing a lease</th>
            <th>Before production</th>
            <th>During production</th>
            <th>Other revenues</th>
          </tr>
        </thead>
        {% for commodity in revenue_commodities %}
          {% assign commodity_name = commodity[0] %}
          {% assign values = commodity[1] %}
        <tbody id="revenue-{{ commodity_name | slugify }}">
          {% if commodity_name == oilgas %}
          <tr>
            {% assign total = values.All[year] | default: 0 | plus: revenue_commodities.Oil.All[year] | plus: revenue_commodities.Gas.All[year] %}
            <th scope="row" rowspan="2" data-value="{{ total }}"><strong>Oil &amp; Gas</strong> ${{ total | intcomma }}</th>
            <td rowspan="2" data-value="{{ values.Bonus[year] | default: 0 }}">${{ values.Bonus[year] | default: 0 | intcomma }}</td>
            <td rowspan="2" data-value="{{ values.Rents[year] | default: 0 }}">${{ values.Bonus[year] | default: 0 | intcomma }}</td>
            <td data-value="{{ revenue_commodities.Oil.Royalties[year] | default: 0 }}"><strong>Oil</strong> ${{ revenue_commodities.Oil.Royalties[year] | default: 0 | intcomma }}</td>
            <td rowspan="2" data-value="{{ values['Other Revenues'][year] | default: 0 }}">${{ values.Bonus[year] | default: 0 | intcomma }}</td>
          </tr>
          <tr>
            <td data-value="{{ revenue_commodities.Gas.Royalties[year] | default: 0 }}"><strong>Gas</strong> ${{ revenue_commodities.Gas.Royalties[year] | default: 0 | intcomma }}</td>
          </tr>
          {% elsif commodity_name != 'Oil' and commodity_name != 'Gas' %}
            {% assign total = values.All[year] | default: 0 %}
            {% if total != 0 %}
          <tr>
            <th scope="row" data-value="{{ total }}"><strong>{{ commodity_name }}</strong> ${{ total | intcomma }}</th>
            {% for revenue_type in revenue_type_names %}
            <td data-value="{{ values[revenue_type][year] | default: 0 }}">${{ commodity[1][revenue_type][year] | default: 0 | intcomma }}</td>
            {% endfor %}
          </tr>
            {% endif %}
          {% endif %}
        </tbody>
        {% endfor %}
      </table>
    </section>

    {% for product in revenue_products %}
    <section id="revenue-{{ product[0] | slugify }}" class="product">
      {% assign revenue = product[1][year].revenue %}
      {% if product[0] == 'All' %}
        {% assign product_name = 'All products' %}
      {% else %}
        {% assign product_name = product[0] %}
      {% endif %}
      <h3>{{ product_name }}</h3>
      <p>{{ state_name }} generated
        {% if revenue %}${{ revenue | intcomma }} in
        {% else %}no{% endif %}
        federal revenue from {{ product_name | downcase }} in {{ year }}.
        Historically:</p>

      <table is="bar-chart-table" data-percent-max="100">
        <thead>
          <th>Year</th>
          <th class="numeric" data-series="revenue">Revenue</th>
          <th class="numeric" data-series="percent">US %</th>
          <th class="numeric" data-series="rank">Rank</th>
        </thead>
        <tbody>
        {% for year in product[1] %}
          <tr>
            <td class="label">{{ year[0] }}</td>
            <td data-series="revenue" data-value="{{ year[1].revenue }}" class="numeric">${{ year[1].revenue | intcomma }}</td>
            <td data-series="percent" data-value="{{ year[1].percent }}" class="numeric">{{ year[1].percent | percent }}%</td>
            <td data-series="rank" class="numeric">{{ year[1].rank | ordinal:'super' }}</td>
          </tr>
        {% endfor %}
        </tbody>
      </table>

    </section>
    {% endfor %}

    <!--
    <section id="revenue-types">
      <h3>Revenue Types</h3>
      <table is="bar-chart-table" data-percent-max="100">
        <thead>
          <th>Year</th>
          {% for type in revenue_type_names %}
          <th class="numeric" data-series="revenue-{{ type | slugify }}">
            {% if type == 'Other Revenues' %}Other{% else %}{{ type }}{% endif %}
          </th>
          {% endfor %}
        </thead>
        <tbody>
          {% for row in site.data.state_revenues[state_id].products.All %}
          {% assign _year = row[0] %}
          <tr>
            <td>{{ _year }}</td>
            {% for type in revenue_type_names %}
            {% assign type_revenue = revenue_types[type] %}
            <td class="numeric" data-series="revenue-{{ type | slugify }}" data-value="{{ type_revenue[_year] | default: 0 }}">
              ${{ type_revenue[_year] | default: 0 | intcomma }}
            </td>
            {% endfor %}
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </section>
    -->

  </section>

  <section id="federal-production" class="federal production">
    <h2>Production on Federal Lands</h2>
    <section class="county-map-table">
      <h3>Products</h3>
      {% for product in federal_products %}
      <section id="federal-production-{{ product[0] | slugify }}" class="product">

        {% assign product_name = product[0] %}
        {% assign volume = product[1].volume[year].volume %}
        {% assign units = product[1].units | downcase %}

        <h4>{{ product[1].name }} ({{ units | default: 'units' }})</h4>
        <p>{{ state_name }} produced
          {% if volume %}{{ volume | intcomma }}
          <span class="units">{{ units | default: 'units' }}</span>
          of {% else %}no{% endif %}
          {{ product[1].name | downcase }} in {{ year }}. Historically:</p>

        {% if volume %}
        <figure>
          <data-map color-scheme="Blues" steps="9">
            {% assign federal_county_production = site.data.federal_county_production[state_id] %}
            {% capture value_key %}products.{{ product_name }}.volume.{{ year }}{% endcapture %}
            {%
              include county-map.html
              state=state_id
              counties=federal_county_production
              value=value_key
            %}
          </data-map>
          <figcaption>County production for {{ product_name }}, {{ year }})</figcaption>
        </figure>
        {% endif %}

        <table is="bar-chart-table" data-percent-max="100">
          <thead>
            <th>Year</th>
            <th class="numeric" data-series="volume">Production ({{ units | default: 'units' }})</th>
            <th class="numeric" data-series="percent">US %</th>
            <th class="numeric" data-series="rank">Rank</th>
          </thead>
          <tbody>
          {% for _year in product[1].volume %}
            <tr>
              <td>{{ _year[0] }}</td>
              <td data-series="volume" data-value="{{ _year[1].volume }}" class="numeric">{{ _year[1].volume | intcomma }}</td>
              <td data-series="percent" data-value="{{ _year[1].percent }}" class="numeric">{{ _year[1].percent | percent }}%</td>
              <td data-series="rank" class="numeric">{{ _year[1].rank | ordinal: 'super' }}</td>
            </tr>
          {% endfor %}
          </tbody>
        </table>

      </section>
      {% endfor %}
    </section>
  </section>

  <section id="all-production" class="all-lands production">
    <h2>Production on All Lands &amp; Waters</h2>

    {% for product in all_products %}
    <section id="all-production-{{ product[0] | slugify }}">
      {% assign product_name = product[0] %}
      {% assign volume = product[1].volume[year].volume %}
      {% assign units = product[1].units | downcase %}

      <h3>{{ product[0] }}</h3>

      <p>{{ state_name }} produced
        {% if volume %}{{ volume | intcomma }} {{ units | default: 'units' }} of
        {% else %}no{% endif %}
        {{ product[0] | downcase }} in {{ year }}. Historically:</p>

      <table is="bar-chart-table" data-percent-max="100">
        <thead>
          <th>Year</th>
          <th class="numeric" data-series="volume">Production ({{ units | default: 'units' }})</th>
          <th class="numeric" data-series="percent">US %</th>
          <th class="numeric" data-series="rank">Rank</th>
        </thead>
        <tbody>
        {% for _year in product[1].volume %}
          <tr>
            <td>{{ _year[0] }}</td>
            <td data-series="volume" data-value="{{ _year[1].volume }}" class="numeric">{{ _year[1].volume | intcomma }}</td>
            <td data-series="percent" data-value="{{ _year[1].percent }}" class="numeric">{{ _year[1].percent | percent }}%</td>
            <td class="numeric">{{ _year[1].rank | ordinal: 'super' }}</td>
          </tr>
        {% endfor %}
        </tbody>
      </table>

    </section>
    {% endfor %}
  </section>

  <section id="employment" class="economic employment">
    <h2>Employment</h2>

    <p>{{ jobs_summary | strip_html }} Historically:</p>

    <table is="bar-chart-table" data-percent-max="100">
      <thead>
        <th>Year</th>
        <th class="numeric" data-series="jobs">Jobs</th>
        <th class="numeric" data-series="percent">State %</th>
      </thead>
      <tbody>
      {% for year in jobs %}
        <tr>
          <td>{{ year[0] }}</td>
          <td class="numeric" data-series="jobs" data-value="{{ year[1].count }}">{{ year[1].count | intcomma }}</td>
          <td class="numeric" data-series="percent" data-value="{{ year[1].percent }}">{{ year[1].percent | percent }}%</td>
        </tr>
      {% endfor %}
      </tbody>
    </table>

    <h3>County-Level Employment</h3>

    <section class="county-map-table">
      <figure>
        <data-map color-scheme="Reds" steps="9">
          {% assign county_jobs = site.data.county_jobs[state_id] %}
          {% capture value_key %}employment.{{ year }}.count{% endcapture %}
          {%
            include county-map.html
            state=state_id
            counties=county_jobs
            value=value_key
          %}
        </data-map>
        <figcaption>County extractives employment (jobs, {{ year }})</figcaption>
      </figure>

      <table is="bar-chart-table" data-percent-max="100">
        <thead>
          <tr>
            <th>County</th>
            <th class="numeric" data-series="jobs">Jobs</th>
            <th class="numeric" data-series="percent">County %</th>
          </tr>
        </thead>
        <tbody>
        {% for county in site.data.county_jobs[state_id] %}
          {% if county[1].employment[year].count > 0 %}
          <tr>
            <td>{{ county[1].name }}</td>
            <td class="numeric" data-series="jobs" data-value="{{ county[1].employment[year].count }}">{{ county[1].employment[year].count | intcomma }}</td>
            <td class="numeric" data-series="percent" data-value="{{ county[1].employment[year].percent }}">{{ county[1].employment[year].percent | percent }}%</td>
          </tr>
          {% endif %}
        {% endfor %}
        </tbody>
      </table>
    </section>

  </section>


  <section id="gdp" class="economic gdp">
    <h2>GDP</h2>
    <p>{{ gdp_summary | strip_html }} Historically:</p>

    <table is="bar-chart-table" data-percent-max="100">
      <thead>
        <th>Year</th>
        <th class="numeric" data-series="gdp">Dollars</th>
        <th class="numeric" data-series="percent">State %</th>
      </thead>
      <tbody>
      {% for year in gdp %}
        <tr>
          <td>{{ year[0] }}</td>
          <td class="numeric" data-series="gdp" data-value="{{ year[1].dollars }}">${{ year[1].dollars | intcomma }}</td>
          <td class="numeric" data-series="percent" data-value="{{ year[1].percent }}">{{ year[1].percent | percent }}%</td>
        </tr>
      {% endfor %}
      </tbody>
    </table>
  </section>

  <section id="exports" class="economic exports">
    <h2>Exports</h2>
    <p>{{ exports_summary | strip_html }}{% if exports_commodities_num > 0 %} Historically:{% endif %}</p>

    {% for commodity in exports_commodities %}
      {% if commodity[0] != 'Total' %}
    <section id="exports-{{ commodity[0] | slugify }}">
      <h3>{{ commodity[0] }}</h3>
      <table is="bar-chart-table" data-percent-max="100">
        <thead>
          <th>Year</th>
          <th class="numeric" data-series="exports">Dollars</th>
          <th class="numeric" data-series="percent">State %</th>
        </thead>
        <tbody>
          {% for commodity_year in commodity[1] %}
            <tr>
              <td>{{ commodity_year[0] }}</td>
              <td class="numeric" data-series="exports" data-value="{{ commodity_year[1].dollars }}">${{ commodity_year[1].dollars | intcomma }}</td>
              <td class="numeric" data-series="percent" data-value="{{ commodity_year[1].percent }}">{{ commodity_year[1].percent | percent }}%</td>
            </tr>
          {% endfor %}
        </tbody>
      </table>
      {% endif %}
    </section>
    {% endfor %}
  </section>

  <section id="disbursements" class="disbursements">
    <h2>Disbursements</h2>
    <p>{{ disbursements_summary | strip_html }}</p>

    {% if disbursements %}
    <table is="bar-chart-table">
      <thead>
        <th>Year</th>
        <th class="numeric" data-series="total">Total</th>
        <th class="numeric" data-series="onshore">Onshore</th>
        <th class="numeric" data-series="offshore">Offshore</th>
      </thead>
      <tbody>
      {% for _year in disbursements.All %}
        {% assign y = _year[0] %}
        <tr>
          <td>{{ y }}</td>
          <td class="numeric" data-series="total" data-value="{{ disbursements.All[y] }}">${{ disbursements.All[y] | round | intcomma }}</td>
          <td class="numeric" data-series="onshore" data-value="{{ disbursements.Onshore[y] }}">${{ disbursements.Onshore[y] | round | intcomma }}</td>
          <td class="numeric" data-series="offshore" data-value="{{ disbursements.Offshore[y] }}">${{ disbursements.Offshore[y] | round | intcomma }}</td>
        </tr>
      {% endfor %}
      </tbody>
    </table>
    {% endif %}

  </section>

</main>

<script src="{{ site.baseurl }}/js/components/bar-chart-table.js"></script>
<script src="{{ site.baseurl }}/js/components/data-map.js"></script>
