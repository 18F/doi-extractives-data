// Revenue
//
// Revenues block within resources page
//
// Styleguide blocks.revenue

#revenue {

  /*
  .filter-description {
    font-weight: normal;

    .filter-part {
      font-weight: bold;
    }
  }
  */

  [aria-expanded=false] {
    display: none;
  }

  div[class^=slab] {
    padding-bottom: 1em;
    padding-top: 1em;
  }

  eiti-slider {
    margin-top: 1em;
  }

  svg[is='eiti-map'] {
    display: block;
    height: 250px;
    max-height: 30vh; // 30% of the viewport height
    max-width: 100%;
  }

  .regions .region {
    display: none;

    &.active {
      display: block;
    }
  }

  .map-legend {
    display: flex;
    margin-bottom: 1em;

    .step {
      display: block;
      flex: 1;
      border-bottom-style: solid;
      border-bottom-width: .5em;
      padding-left: .1em;
    }

    &.legend-invalid {
      .step .label {
        visibility: hidden;
      }
    }
  }

  .timeline {
    shape-rendering: crispEdges;

    line {
      fill: none;
      stroke: #4b9bbf;
      stroke-linecap: square;
      stroke-width: 1;
      vector-effect: non-scaling-stroke;
    }

    .area {
      fill: $pale-blue;

      &.negative {
        fill: #bbb;
      }
    }

    .mask {
      fill: white;
      opacity: .5;

      line {
        stroke-width: 2;
      }
    }

  }

  .slab-foxtrot .timeline {
    .mask {
      fill: $mid-blue;
    }
  }

  .subregion {
    @include row();

    .subregion-name {
      @include span-columns(8);
      margin: 0;

      .color-swatch {
        display: inline-block;
        height: .7em;
        margin-right: .2em;
        width: .7em;
      }
    }

    .subregion-chart {
      @include span-columns(4);
    }

    .bar {
      display: inline-block;
      // border: 1px solid red;
      width: 50%;

      .label {
        float: right;
      }

      .value {
        background: #999;
        display: inline-block;
        height: 1em;
        transition: width .2s;
        width: 0%;
      }

      &.negative {
        text-align: right;

        .label {
          float: left;
        }

        .value {
          background: #ccc;
        }
      }
    }
  }

}
